---
// PropertiesPanel component - Properties editor for selected layer
---

<div class="properties-panel">
	<div class="panel-header">
		<h3 class="panel-title">PROPERTIES</h3>
	</div>

	<div class="properties-content" id="properties-content">
		<!-- Transform Properties -->
		<div class="property-section">
			<h4 class="section-title">Transform</h4>
			
			<div class="property-row">
				<label class="property-label">X</label>
				<input type="number" class="property-input" value="0" min="0" />
				<span class="property-unit">px</span>
			</div>

			<div class="property-row">
				<label class="property-label">Y</label>
				<input type="number" class="property-input" value="0" min="0" />
				<span class="property-unit">px</span>
			</div>

			<div class="property-row">
				<label class="property-label">W</label>
				<input type="number" class="property-input" value="200" min="1" />
				<span class="property-unit">px</span>
			</div>

			<div class="property-row">
				<label class="property-label">H</label>
				<input type="number" class="property-input" value="200" min="1" />
				<span class="property-unit">px</span>
			</div>

			<div class="property-row">
				<label class="property-label">Rotate</label>
				<input type="number" class="property-input" value="0" min="0" max="360" />
				<span class="property-unit">Â°</span>
			</div>
		</div>

		<!-- Dithering Properties -->
		<div class="property-section">
			<h4 class="section-title">Dithering</h4>
			
			<div class="property-row">
				<label class="property-label">Method</label>
				<select class="property-select">
					<option value="none">None</option>
					<option value="floyd-steinberg">Floyd-Steinberg</option>
					<option value="atkinson">Atkinson</option>
					<option value="ordered">Ordered (Bayer)</option>
					<option value="halftone">Halftone</option>
					<option value="threshold">Threshold</option>
				</select>
			</div>

			<div class="property-row">
				<label class="property-label">Threshold</label>
				<input 
					type="range" 
					class="property-slider" 
					min="0" 
					max="255" 
					value="128"
					id="threshold-slider"
				/>
				<span class="property-value" id="threshold-value">128</span>
			</div>
		</div>

		<!-- Effects Properties -->
		<div class="property-section">
			<h4 class="section-title">Effects</h4>
			
			<div class="property-row">
				<label class="property-label">Contrast</label>
				<input 
					type="range" 
					class="property-slider" 
					min="0" 
					max="200" 
					value="100"
					id="contrast-slider"
				/>
				<span class="property-value" id="contrast-value">100</span>
			</div>

			<div class="property-row">
				<label class="property-label">Brightness</label>
				<input 
					type="range" 
					class="property-slider" 
					min="0" 
					max="200" 
					value="100"
					id="brightness-slider"
				/>
				<span class="property-value" id="brightness-value">100</span>
			</div>

			<div class="property-row">
				<label class="property-label">Invert</label>
				<label class="toggle-switch">
					<input type="checkbox" id="invert-toggle" />
					<span class="toggle-slider"></span>
				</label>
			</div>
		</div>

		<!-- Texture Properties -->
		<div class="property-section">
			<h4 class="section-title">Texture</h4>
			
			<div class="property-row">
				<label class="property-label">Pattern</label>
				<select class="property-select">
					<option value="none">None</option>
					<option value="dots">Dots</option>
					<option value="lines">Lines</option>
					<option value="crosshatch">Crosshatch</option>
					<option value="checkerboard">Checkerboard</option>
					<option value="noise">Noise</option>
				</select>
			</div>

			<div class="property-row">
				<label class="property-label">Intensity</label>
				<input 
					type="range" 
					class="property-slider" 
					min="0" 
					max="100" 
					value="50"
					id="intensity-slider"
				/>
				<span class="property-value" id="intensity-value">50</span>
			</div>
		</div>
	</div>
</div>

<script>
	// Update slider values in real-time
	const updateSliderValue = (sliderId: string, valueId: string, suffix = '') => {
		const slider = document.getElementById(sliderId) as HTMLInputElement;
		const valueDisplay = document.getElementById(valueId);
		
		if (slider && valueDisplay) {
			slider.addEventListener('input', () => {
				valueDisplay.textContent = slider.value + suffix;
			});
		}
	};

	updateSliderValue('threshold-slider', 'threshold-value');
	updateSliderValue('contrast-slider', 'contrast-value');
	updateSliderValue('brightness-slider', 'brightness-value');
	updateSliderValue('intensity-slider', 'intensity-value');
</script>

<style>
	.properties-panel {
		display: flex;
		flex-direction: column;
		height: 100%;
		padding: 1rem;
	}

	.panel-header {
		margin-bottom: 1rem;
	}

	.panel-title {
		font-size: 0.75rem;
		font-weight: 700;
		letter-spacing: 0.1em;
		color: var(--color-text-secondary);
	}

	.properties-content {
		display: flex;
		flex-direction: column;
		gap: 1rem;
		flex: 1;
		overflow-y: auto;
		padding-right: 0.25rem;
	}

	.property-section {
		display: flex;
		flex-direction: column;
		gap: 0.75rem;
	}

	.section-title {
		font-size: 0.6875rem;
		font-weight: 600;
		text-transform: uppercase;
		letter-spacing: 0.05em;
		color: var(--color-purple-primary);
		padding-bottom: 0.5rem;
		border-bottom: 1px solid var(--color-border);
	}

	.property-row {
		display: grid;
		grid-template-columns: 80px 1fr auto;
		gap: 0.5rem;
		align-items: center;
	}

	.property-label {
		font-size: 0.75rem;
		color: var(--color-text-secondary);
		font-weight: 500;
	}

	.property-input {
		background: var(--color-bg-secondary);
		color: var(--color-text-primary);
		border: 1px solid var(--color-border);
		border-radius: var(--radius-sm);
		padding: 0.375rem 0.5rem;
		font-size: 0.75rem;
		outline: none;
		transition: all var(--transition-normal);
	}

	.property-input:focus {
		border-color: var(--color-purple-primary);
		box-shadow: 0 0 0 2px rgba(167, 139, 250, 0.1);
	}

	.property-unit {
		font-size: 0.75rem;
		color: var(--color-text-muted);
		min-width: 24px;
	}

	.property-select {
		background: var(--color-bg-secondary);
		color: var(--color-text-primary);
		border: 1px solid var(--color-border);
		border-radius: var(--radius-sm);
		padding: 0.375rem 0.5rem;
		font-size: 0.75rem;
		cursor: pointer;
		outline: none;
		transition: all var(--transition-normal);
		grid-column: 2 / -1;
	}

	.property-select:focus {
		border-color: var(--color-purple-primary);
	}

	.property-slider {
		width: 100%;
		height: 4px;
		background: var(--color-bg-secondary);
		border-radius: 2px;
		outline: none;
		-webkit-appearance: none;
		appearance: none;
	}

	.property-slider::-webkit-slider-thumb {
		-webkit-appearance: none;
		appearance: none;
		width: 14px;
		height: 14px;
		background: linear-gradient(135deg, var(--color-purple-dark), var(--color-blue-dark));
		border-radius: 50%;
		cursor: pointer;
		transition: all var(--transition-normal);
	}

	.property-slider::-webkit-slider-thumb:hover {
		transform: scale(1.2);
		box-shadow: var(--glow-purple);
	}

	.property-slider::-moz-range-thumb {
		width: 14px;
		height: 14px;
		background: linear-gradient(135deg, var(--color-purple-dark), var(--color-blue-dark));
		border: none;
		border-radius: 50%;
		cursor: pointer;
		transition: all var(--transition-normal);
	}

	.property-slider::-moz-range-thumb:hover {
		transform: scale(1.2);
		box-shadow: var(--glow-purple);
	}

	.property-value {
		font-size: 0.75rem;
		color: var(--color-text-primary);
		font-weight: 600;
		min-width: 36px;
		text-align: right;
	}

	/* Toggle Switch */
	.toggle-switch {
		position: relative;
		display: inline-block;
		width: 40px;
		height: 20px;
		grid-column: 2 / -1;
	}

	.toggle-switch input {
		opacity: 0;
		width: 0;
		height: 0;
	}

	.toggle-slider {
		position: absolute;
		cursor: pointer;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background-color: var(--color-bg-secondary);
		border: 1px solid var(--color-border);
		transition: var(--transition-normal);
		border-radius: 20px;
	}

	.toggle-slider:before {
		position: absolute;
		content: "";
		height: 12px;
		width: 12px;
		left: 3px;
		bottom: 3px;
		background-color: var(--color-text-muted);
		transition: var(--transition-normal);
		border-radius: 50%;
	}

	input:checked + .toggle-slider {
		background: linear-gradient(135deg, var(--color-purple-dark), var(--color-blue-dark));
		border-color: var(--color-purple-primary);
	}

	input:checked + .toggle-slider:before {
		transform: translateX(20px);
		background-color: white;
	}

	.toggle-slider:hover {
		border-color: var(--color-purple-primary);
	}
</style>

